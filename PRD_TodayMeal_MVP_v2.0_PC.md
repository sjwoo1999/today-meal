# 🍚 오늘한끼 (TodayMeal) PRD - PC 웹 버전
## MVP v2.0 PC Web Edition

> **최종 수정일**: 2025-12-23  
> **문서 버전**: v2.0_PC  
> **플랫폼**: Desktop Web (PWA)

---

## 1. Executive Summary

### 1.1 PC 버전 개요
| 항목 | 내용 |
|------|------|
| **제품명** | 오늘한끼 (TodayMeal) PC Web |
| **버전** | MVP v2.0 PC |
| **접근 방식** | Web-First with PWA |
| **핵심 목표** | 데스크톱 환경에서 확장된 식단 관리 경험 제공 |

### 1.2 PC 버전 차별화
- **넓은 화면 활용**: 멀티 위젯 대시보드, 3컬럼 레이아웃
- **키보드/마우스 최적화**: 단축키, 드래그앤드롭, 호버 상호작용
- **심층 분석**: 주간/월간 리포트, 캘린더 뷰
- **멀티태스킹 지원**: 업무 중 빠른 기록, 미리 계획 세우기

### 1.3 타겟 사용자 시나리오
```
👩‍💻 지영 (32세, IT 마케터)
- 회사 점심시간 전, PC에서 오늘 저녁 역추산 플랜 세우기
- 배달앱 스크린샷 Ctrl+V로 빠르게 기록
- 주간 분석 리포트로 식습관 점검
```

---

## 2. Platform Strategy

### 2.1 지원 플랫폼
| 플랫폼 | 브라우저 | 최소 해상도 | 최적 해상도 |
|--------|----------|-------------|-------------|
| Desktop Web | Chrome, Safari, Edge, Firefox | 1280x720 | 1920x1080 |
| Tablet Web | Safari (iPad), Chrome | 768x1024 | 1024x1366 |
| Mobile Web | Chrome, Safari | 360x640 | 앱 유도 |

### 2.2 PWA 기능
```yaml
installable: true
offline_support: 
  - 기록 조회
  - 오프라인 기록 → 온라인 시 동기화
push_notifications: true
home_screen_icon: true
service_worker: true
```

### 2.3 반응형 Breakpoints
```css
--bp-desktop-lg: 1920px+     /* 3컬럼 풀 */
--bp-desktop: 1280-1919px    /* 3컬럼 */
--bp-tablet: 768-1279px      /* 2컬럼 */
--bp-mobile: <768px          /* 1컬럼 + 앱 유도 */
```

---

## 3. PC Layout & Navigation

### 3.1 전체 레이아웃 구조
```
┌─────────────────────────────────────────────────────────┐
│ Header: 로고 | 검색 |        | 🔥12일 ⭐850 🏆골드 🔔 👤 │
├──────────┬──────────────────────────────────────────────┤
│          │                                              │
│ Sidebar  │              Main Content                    │
│ (240px)  │              (flex-1)                        │
│          │                                              │
│ 🏠 홈    │                                              │
│ 🍽️ 역추산 │                                              │
│ 📸 기록  │                                              │
│ 📊 대시보드│                                             │
│ 📅 캘린더 │                                              │
│ 🏆 리그  │                                              │
│ 📈 분석  │                                              │
│ 👤 프로필 │                                              │
│          │                                              │
│ ─────── │                                              │
│ ⚙️ 설정  │                                              │
│ ❓ 도움말 │                        ┌──────┐             │
│          │                        │ 한끼  │             │
└──────────┴────────────────────────│ 위젯 │─────────────┘
                                    └──────┘ (우측 하단)
```

### 3.2 사이드바 상세
```typescript
interface SidebarItem {
  icon: string;
  label: string;
  path: string;
  badge?: number;
  isNew?: boolean;
}

const sidebarItems: SidebarItem[] = [
  { icon: '🏠', label: '홈', path: '/' },
  { icon: '🍽️', label: '역추산 플래너', path: '/reverse-plan' },
  { icon: '📸', label: '기록하기', path: '/record' },
  { icon: '📊', label: '대시보드', path: '/dashboard' },
  { icon: '📅', label: '캘린더', path: '/calendar', isNew: true },
  { icon: '🏆', label: '리그', path: '/league' },
  { icon: '🎯', label: '퀘스트', path: '/quests', badge: 2 },
  { icon: '📈', label: '분석', path: '/analysis' },
  { icon: '👤', label: '프로필', path: '/profile' },
];

// 사이드바 축소/확장
const sidebarWidth = {
  expanded: '240px',
  collapsed: '64px', // 아이콘만
};
```

### 3.3 헤더 상세
```typescript
interface HeaderConfig {
  left: ['logo', 'searchBar'];
  right: [
    { type: 'streak', icon: '🔥', value: 12, unit: '일' },
    { type: 'xp', icon: '⭐', value: 850, unit: 'XP' },
    { type: 'league', icon: '🏆', value: '골드' },
    { type: 'notifications', icon: '🔔', badge: 3 },
    { type: 'hanki_mini' },
    { type: 'profile_dropdown' },
  ];
}
```

---

## 4. Feature Specifications (PC 적응 버전)

### 4.1 역추산 플래너 PC
**레이아웃**: 3단 컬럼

```
┌─────────────────┬─────────────────┬─────────────────┐
│   저녁 선택     │   AI 계산       │   하루 타임라인  │
│                 │                 │                 │
│ [검색창]        │ 남은 영양소:    │ ⏰ 아침 (280kcal)│
│                 │ ├─ 칼로리: 710  │ 그릭요거트+과일  │
│ 🥩 삼겹살      │ ├─ 단백질: 56g  │ 📍 GS25 회사점  │
│ 🍗 치킨        │ └─ 탄수화물: 95g│                 │
│ 🍕 피자        │                 │ ⏰ 점심 (430kcal)│
│ 🍝 파스타      │ [실시간 그래프] │ 닭가슴살 샐러드  │
│ 🦶 족발        │  ████████░░ 78% │ 📍 샐러디 강남점 │
│ 🍣 초밥        │                 │                 │
│                 │                 │ ⏰ 저녁 🎉      │
│                 │                 │ 삼겹살 2인분    │
│                 │                 │ → 580kcal OK!  │
└─────────────────┴─────────────────┴─────────────────┘
```

**PC 전용 기능**:
- 드래그 앤 드롭으로 메뉴 순서 변경
- Enter로 검색, ↑↓ 방향키로 메뉴 선택
- 실시간 영양소 그래프 업데이트
- 과거 플랜 참조 (캘린더 뷰 연동)
- 여러 플랜 비교 탭

### 4.2 사진 기록 PC
**업로드 방식 (우선순위순)**:

| 방식 | 설명 | 단축키 |
|------|------|--------|
| 🖱️ 드래그 앤 드롭 | 파일을 영역에 드래그 | - |
| 📋 클립보드 붙여넣기 | 스크린샷/복사 이미지 | `Ctrl+V` |
| 📁 파일 선택 | 파일 탐색기 열기 | `Ctrl+O` |
| 📷 웹캠 촬영 | 노트북 카메라 | `Ctrl+Shift+C` |
| 📱 모바일 연동 | QR → 폰 카메라 | `Ctrl+M` |

**지원 형식**: jpg, jpeg, png, webp, heic  
**최대 크기**: 10MB  
**다중 업로드**: 지원

**플로우**:
```
1. 드래그 또는 Ctrl+V
2. 이미지 미리보기 + AI 분석 (2초)
3. 결과 확인/수정
4. 저장 → +10 XP → 한끼 반응
```

### 4.3 대시보드 PC
**풀스크린 위젯 레이아웃**:

```
┌────────────────────────────────────────────────────────┐
│                    오늘의 영양 (대형)                   │
│         ┌─────────────┐                                │
│         │   1,250     │  단백질 ████████░░ 85g/120g   │
│         │   ────      │  탄수화물 ██████░░░ 140g/200g │
│         │   1,800     │  지방 █████░░░░ 42g/60g       │
│         │    kcal     │                               │
│         └─────────────┘                                │
├──────────────────┬──────────────────┬──────────────────┤
│ 📅 끼니별 기록    │ 📈 주간 트렌드    │ 🎯 오늘의 퀘스트 │
│                  │                  │                  │
│ 🌅 아침 280kcal  │ [7일 칼로리 차트]│ ✅ 아침 기록     │
│ ☀️ 점심 430kcal  │                  │ ◻️ 물 8잔       │
│ 🌙 저녁 —        │ 평균: 1,720kcal  │ ◻️ 역추산 성공  │
│                  │                  │                  │
│                  │                  │ ───────────────  │
│                  │                  │ 전부 클리어 +15XP│
└──────────────────┴──────────────────┴──────────────────┘
```

**위젯 목록**:
- 일일 영양 (대형 원형)
- 주간 트렌드 그래프
- 끼니별 타임라인
- 스트릭 캘린더
- 리그 순위 미니
- 오늘의 퀘스트
- 트레이너 피드백
- 역추산 플랜 미리보기

**인터랙션**:
- 호버 시 상세 툴팁
- 클릭으로 상세 분석
- 드래그로 위젯 재배치 (커스터마이징)

---

## 5. PC 전용 기능 상세 명세

### 5.1 키보드 단축키
| 단축키 | 동작 | 컨텍스트 |
|--------|------|----------|
| `N` | 새 기록 추가 | 전역 |
| `R` | 역추산 플래너 | 전역 |
| `D` | 대시보드 | 전역 |
| `C` | 캘린더 | 전역 |
| `Q` | 퀘스트 | 전역 |
| `L` | 리그 | 전역 |
| `/` | 음식 검색 | 전역 |
| `?` | 단축키 도움말 | 전역 |
| `Ctrl+V` | 이미지 붙여넣기 | 기록 화면 |
| `Ctrl+Enter` | 저장 | 입력 화면 |
| `Esc` | 모달 닫기 | 모달 |
| `←` `→` | 날짜 이동 | 캘린더 |
| `↑` `↓` | 메뉴 선택 | 검색 결과 |

### 5.2 캘린더 뷰
**레이아웃**:
```
┌──────────────────────────────────────────────────────┐
│  ◀ 2025년 12월 ▶                    [주간] [월간]   │
├──────────────────────────────────────────────────────┤
│  일    월    화    수    목    금    토              │
├──────────────────────────────────────────────────────┤
│       1     2     3     4     5     6               │
│       🟢    🟢    🟡    🔴    🟢    🟢              │
│      1,820 1,750 1,950 2,100 1,780 1,800            │
├──────────────────────────────────────────────────────┤
│  7     8     9    10    11    12    13              │
│  🟢   🟢    🟢    🟢    🟢    🟢    🔥              │
│ 1,720 1,800 ...  ...   ...   ...   🔥7일           │
└──────────────────────────────────────────────────────┘

🟢 목표 달성 (90-110%)
🟡 조금 초과 (110-130%)
🔴 크게 초과/부족
⚪ 미기록
🔥 스트릭 연속일
```

### 5.3 상세 분석 리포트

**주간 리포트**:
- 일별 칼로리 히트맵
- 영양소 균형 레이더 차트
- 목표 달성률 트렌드
- 자주 먹는 음식 TOP 10
- 역추산 사용 통계

**월간 리포트**:
- 체중 변화 그래프 (연동 시)
- 식습관 패턴 분석
- 개선 제안 (AI 기반)
- PDF 다운로드

---

## 6. 한끼 PC 인터랙션 가이드

### 6.1 미니 위젯
```typescript
interface HankiMiniWidget {
  position: 'bottom-right';
  size: { width: 80, height: 80 };
  zIndex: 1000;
  
  states: {
    idle: '조용히 있음, 가끔 애니메이션',
    event: '말풍선 표시',
    clicked: '확대 + 패널 열림',
  };
}
```

### 6.2 확장 패널
```
┌─────────────────────────┐
│         🍚              │
│       (한끼 전신)        │
│                         │
│ "점심시간이야! 뭐 먹어?" │
│                         │
│ ┌─────────┐ ┌─────────┐ │
│ │ 📸 기록 │ │ 🍽️ 역추산│ │
│ └─────────┘ └─────────┘ │
│                         │
│ Lv.3 균형루키 | 🔥 7일   │
└─────────────────────────┘
```

### 6.3 Idle 애니메이션
- 가끔 점프 (5분마다)
- 졸기 (15분 비활동)
- 손 흔들기 (스크롤 시)
- 김 모락모락 (12:00, 19:00)

### 6.4 트리거 메시지
| 트리거 | 메시지 |
|--------|--------|
| 12:00 | "점심시간이야! 🍚" |
| 19:00 | "저녁 기록 잊지 마!" |
| 오랜만에 접속 | "돌아왔구나! 😭" |
| 스트릭 위기 (21:00) | "오늘 기록 안 했어! 🔥" |
| 목표 달성 | "대단해! 💪" |
| 레벨업 | "우리 같이 성장했어! 🎉" |

---

## 7. 트레이너 PC 대시보드

### 7.1 3컬럼 레이아웃
```
┌──────────────┬────────────────────────┬──────────────┐
│  회원 리스트  │       회원 상세         │  빠른 액션   │
│              │                        │              │
│ [검색] [필터] │ ┌────────────────────┐│ 피드백 템플릿 │
│              │ │ 김지영              ││              │
│ 📋 전체 (25) │ │ Lv.3 🔥7일 🏆실버  ││ 👏 완벽해요! │
│ ⚠️ 위험 (2)  │ │                    ││ 💪 역추산 굿!│
│ ⏰ 미기록 (3) │ │ [주간 기록 그래프]  ││ 🥩 단백질!  │
│              │ │ ████████░░ 86%     ││              │
│ ─────────── │ │                    ││ ──────────── │
│              │ │ 역추산 사용률: 60%  ││              │
│ • 김지영 🔥7 │ │ 최근 피드백:       ││ [커스텀 작성] │
│ • 이민지    │ │ "잘하고 있어요!"   ││              │
│ • 박서준 ⚠️ │ │                    ││ [일괄 피드백] │
│ • 최유진 🔥14│ └────────────────────┘│              │
│ • 정현우 ⚠️ │                        │              │
└──────────────┴────────────────────────┴──────────────┘
```

### 7.2 벌크 액션
- 여러 회원 선택 → 일괄 피드백
- 미기록 회원 일괄 알림
- 주간 리포트 일괄 생성/전송

---

## 8. URL 구조 & 라우팅

### 8.1 Public Routes
| Path | Page |
|------|------|
| `/` | 랜딩 페이지 |
| `/login` | 로그인 |
| `/signup` | 회원가입 |

### 8.2 Member Routes
| Path | Page |
|------|------|
| `/home` | 홈 (역추산 CTA) |
| `/reverse-plan` | 역추산 플래너 |
| `/reverse-plan/new` | 새 플랜 생성 |
| `/record` | 기록하기 |
| `/record/:date` | 특정 날짜 기록 |
| `/dashboard` | 대시보드 |
| `/calendar` | 캘린더 뷰 |
| `/league` | 리그 |
| `/quests` | 퀘스트 |
| `/analysis` | 분석 리포트 |
| `/analysis/weekly` | 주간 분석 |
| `/analysis/monthly` | 월간 분석 |
| `/profile` | 프로필 |
| `/profile/badges` | 뱃지 컬렉션 |
| `/profile/hanki` | 한끼 커스터마이징 |
| `/settings` | 설정 |

### 8.3 Trainer Routes
| Path | Page |
|------|------|
| `/trainer` | 트레이너 대시보드 |
| `/trainer/members` | 회원 관리 |
| `/trainer/members/:id` | 회원 상세 |
| `/trainer/feedback` | 피드백 관리 |
| `/trainer/reports` | 리포트 |

---

## 9. Technical Requirements

### 9.1 Frontend Stack
```yaml
framework: Next.js 14+ (App Router)
language: TypeScript
styling: Tailwind CSS + shadcn/ui
state: Zustand
charts: Recharts
animations: Framer Motion
icons: Lucide React
drag_drop: @dnd-kit
keyboard: react-hotkeys-hook
```

### 9.2 PWA 구현
```yaml
service_worker: Workbox
manifest:
  name: "오늘한끼"
  short_name: "오늘한끼"
  theme_color: "#FF9500"
  background_color: "#FFFFFF"
  display: "standalone"
  
offline_cache:
  - 정적 에셋 (JS, CSS, 이미지)
  - 최근 7일 기록 데이터
  - 자주 사용하는 음식 DB (상위 1000개)

sync:
  - 오프라인 기록 → 온라인 시 백그라운드 동기화
```

### 9.3 Performance Targets
| 지표 | 목표 |
|------|------|
| LCP | < 2.5s |
| FID | < 100ms |
| CLS | < 0.1 |
| TTI | < 3.5s |

### 9.4 Accessibility
- 전체 키보드 네비게이션
- ARIA 라벨 필수
- WCAG 2.1 AA 색상 대비
- 스크린 리더 지원

---

## 10. Migration Roadmap

### Phase 1: 핵심 기능 (4주)
- [ ] 프로젝트 셋업 (Next.js, PWA)
- [ ] 인증 (로그인/회원가입)
- [ ] 사이드바 + 헤더 네비게이션
- [ ] 역추산 플래너 (PC 3컬럼)
- [ ] 사진 기록 (업로드 방식)
- [ ] 대시보드 (멀티 위젯)
- [ ] 한끼 미니 위젯

### Phase 2: 게이미피케이션 (2주)
- [ ] XP/레벨 시스템
- [ ] 스트릭 헤더 표시
- [ ] 퀘스트 페이지
- [ ] 리그 페이지

### Phase 3: PC 전용 기능 (3주)
- [ ] 캘린더 뷰
- [ ] 상세 분석 리포트
- [ ] 키보드 단축키
- [ ] 위젯 커스터마이징 (드래그)

### Phase 4: 트레이너 확장 (2주)
- [ ] 3컬럼 대시보드
- [ ] 회원 상세 그래프
- [ ] 벌크 피드백

---

## 11. Success Metrics (PC)

### 11.1 정량 지표
| 지표 | 목표 (3개월 내) |
|------|-----------------|
| PC 웹 MAU | 100명 |
| PC → 앱 전환율 | 30%+ |
| PC 주간 기록률 | 60%+ |
| PC 세션 시간 | 5분+ |
| 대시보드 체류 | 3분+ |
| 캘린더 사용률 | 40%+ |

### 11.2 정성 지표
- "PC에서 편하게 확인할 수 있어서 좋다"
- "회사에서 점심 전에 미리 계획 세워요"
- "상세 분석이 도움 된다"
- "키보드로 빠르게 기록해서 좋아요"

---

## 12. Timeline

```
Week 1-2: 프로젝트 셋업 + 인증
Week 3-4: 핵심 기능 (역추산, 기록, 대시보드)
Week 5-6: 게이미피케이션 포팅
Week 7-9: PC 전용 기능
Week 10-11: 트레이너 대시보드
Week 12: 테스트 + 버그 수정 + 런칭
```

---

## Appendix: Desktop Wireframe 가이드라인

### 홈 화면
```
┌────────────────────────────────────────────────────────┐
│ Sidebar │ 안녕, 지영! 👋                    🔥12 ⭐850 │
│         │                                              │
│         │  ┌──────────────────────────────────────┐   │
│         │  │ 🍽️ 오늘 저녁 뭐 먹고 싶어?           │   │
│         │  │    저녁을 선택하면 아침·점심 추천!    │   │
│         │  │                        [플랜 세우기 →]│   │
│         │  └──────────────────────────────────────┘   │
│         │                                              │
│         │  ┌─────────────┐ ┌─────────────┐            │
│         │  │ 📊 오늘 영양 │ │ 🎯 퀘스트   │   🍚      │
│         │  │  1,250/1,800│ │ 2/3 완료    │  한끼     │
│         │  └─────────────┘ └─────────────┘            │
└────────────────────────────────────────────────────────┘
```

---

*Made with 🍚 by TodayMeal Team*
